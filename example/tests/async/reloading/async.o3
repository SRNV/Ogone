// require statement tells to the parent component what is needed inside the component.
require id as Number;
// use statement tells to Ogone to use the file as store-component
use @/example/tests/async/reloading/store.o3 as 'store-component';

<store-component namespace="user"/>
<div> Welcome ${user ? user.username : ''}</div>
<img src="public/ogone.svg"  --await />
<proto type="async">
  def:
    user: null
  case 'async:update':
    Store.dispatch('user/getUser', this.id)
      .then((user) => {
        this.user = user;
      });
  break;
  default:
    Store.dispatch('user/getUser', this.id)
      .then((user) => {
        this.user = user;
        // when we have the data of the user
        // warn the parent component that we are ready to render
        // we send the user as context to the parent component
        Async.resolve(user);
      });
</proto>